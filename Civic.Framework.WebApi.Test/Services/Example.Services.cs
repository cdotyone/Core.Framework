//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated from a template.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

#pragma warning disable 1591 // this is for supress no xml comments in public members warnings 

using System;
using System.ServiceModel.Activation;
using System.Collections.Generic;
using System.Security.Claims;
using Civic.Core.Audit;
using Civic.Core.Configuration;
using Civic.Core.Data;
using Civic.Core.Logging;
using Civic.Framework.WebApi;
using Civic.Framework.WebApi.Test.Entities;


namespace Civic.Framework.WebApi.Test.Services
{
    
    
    [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]
    public partial class ExampleService : IExample, IEntityService
    {
    	
    	private IDBConnection _connection;
    
    	public IDBConnection Connection
        {
    		get {
    			if(_connection==null) return DatabaseFactory.CreateDatabase("Example");
    	        return _connection;
    		}
    		set {
    			_connection = value;
    		}
        }
    
        private ClaimsPrincipal _who = null;
        public ClaimsPrincipal Who
        {
            get { return _who == null && OperationContext.Current != null ? OperationContext.Current.ClaimsPrincipal : _who; }
            set { _who = value; }
        }
    
    	public INamedElement Configuration { get; set; }
    
        public string ModuleName { get { return "example"; } }
            
    	public List<string> EntitiesProvided { 
    		get {
    			return new List<string> { "entity1","entity2","entity3","environment" }; 
    		}
        }
    
    	public IEntity Create(string name)
    	{
    		switch(name) {
    					case "entity1":
    			case "Entity1":
    				return new Civic.Framework.WebApi.Test.Entities.Entity1();
    					case "entity2":
    			case "Entity2":
    				return new Civic.Framework.WebApi.Test.Entities.Entity2();
    					case "entity3":
    			case "Entity3":
    				return new Civic.Framework.WebApi.Test.Entities.Entity3();
    					case "environment":
    			case "Environment":
    				return new Civic.Framework.WebApi.Test.Entities.Environment();
    				};
    
    		return null;
        }
    }
    
}


